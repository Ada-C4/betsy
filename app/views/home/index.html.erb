

<div class="row cat-container">
  <div class="cat-link-container">
    <%= link_to "Shop All", products_path, class: "cat-link" %>
  </div>
  <% @categories.each do |category| %>
    <div class="cat-link-container">
      <%= link_to category.name, category_products_path(category), class: "cat-link" %>
    </div>
  <% end %>
  <div class="dropdown">
    <button class="merchant-dropdown" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
      Merchants
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
      <% @merchants.each do |merchant| %>
        <li><%= link_to merchant.user_name, merchant_products_path(merchant) %></li>
      <% end %>
    </ul>
  </div>
</div>
<hr>

<div class="row">
  <div class="col-md-12 text-center">
    <h1>Dumbledore's Picks</h1>
  </div>

  <div id="myCarousel" class="carousel" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
      <li data-target="#myCarousel" data-slide-to="3"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
      <% @featured_products.each_with_index do |product, index| %>
        <% if index == 0 %>
          <% first_class = "active" %>
        <% end %>
          <div class="item <%= first_class %> product-image-container">
              <%= link_to image_tag(product.photo_url), product_path(product), class: "product-image") %>
              <div class="carousel-caption">
                <h3><%= link_to product.name, product_path(product) %></h3>
              </div>
          </div>
        <% end %>
    </div>

    <!-- Left and right controls -->
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
