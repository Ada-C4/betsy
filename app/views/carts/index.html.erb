<h1>Your Cart</h1>

<% if @cart_items.nil? %>
  <p>You have no items in your cart. Get shopping!</p>
<% else %>

<% if !flash[:error].nil? %>
  <div class= "alert alert-danger" role="alert"><%= flash[:error] %></div>
<% end %>

<table class="table table-hover">
<th> Item </th>
<th> Quantity </th>
<th> Add or remove items </th>
  <% @cart_items.each do |product_id, quantity| %>
    <% if quantity > 0 %>
      <tr>
        <td><%= Product.find(product_id).name %></td>
        <td><%= quantity %></td>
        <td><%= button_to "+", add_quantity_path(product_id) %> <%= button_to "- ", remove_quantity_path(product_id) %></td>
      </tr>
    <% end %>
  <% end %>
<% end %>
</table>
<%= button_to "Empty Cart", cart_path(1), method: :delete %>

<%= button_to "Checkout", checkout_path, method: :get %>
